<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Actions Dashboard</title>
    <link rel="stylesheet" href="styles-base.css">
    <link rel="stylesheet" href="theme-default.css">
</head>
<body>
    <!-- Header -->
    <header class="top-header">
        <div class="header-left">
            <button id="nav-toggle" class="nav-toggle-button" aria-label="Toggle navigation">
                <svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
                </svg>
            </button>
            <h1 class="site-title">GitHub Actions Dashboard</h1>
        </div>
        <div class="header-center">
            <h2 id="active-dashboard-name" class="active-dashboard-name"></h2>
        </div>
    </header>

    <!-- Side Navigation Panel -->
    <nav id="side-nav" class="side-nav" aria-label="Main navigation">
        <div class="side-nav-content">
            <!-- Navigation Links -->
            <div class="side-nav-section">
                <a href="index.html" class="side-nav-link side-nav-link-active" data-page="dashboard">
                    <svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.75 1A1.75 1.75 0 000 2.75v11.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V2.75A1.75 1.75 0 0014.25 1H1.75zM1.5 2.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v11.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V2.75z"></path>
                        <path d="M5 4.75A.75.75 0 015.75 4h4.5a.75.75 0 010 1.5h-4.5A.75.75 0 015 4.75zM5 8.75A.75.75 0 015.75 8h4.5a.75.75 0 010 1.5h-4.5A.75.75 0 015 8.75z"></path>
                    </svg>
                    Dashboard
                </a>
                <a href="about.html" class="side-nav-link" data-page="about">
                    <svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path>
                    </svg>
                    About
                </a>
            </div>

            <!-- Divider -->
            <div class="side-nav-divider"></div>

            <!-- Action Buttons -->
            <div class="side-nav-section">
                <button class="side-nav-button" id="theme-nav-button">
                    <svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 11a3 3 0 110-6 3 3 0 010 6zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 01-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z"></path>
                    </svg>
                    Theme
                </button>
                <button class="side-nav-button" id="new-dashboard-nav-button">
                    <svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M7.75 2a.75.75 0 01.75.75V7h4.25a.75.75 0 010 1.5H8.5v4.25a.75.75 0 01-1.5 0V8.5H2.75a.75.75 0 010-1.5H7V2.75A.75.75 0 017.75 2z"></path>
                    </svg>
                    New Dashboard
                </button>
                <button class="side-nav-button" id="change-dashboard-nav-button">
                    <svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
                    </svg>
                    Change Dashboard
                </button>
            </div>
        </div>
    </nav>

    <!-- Side Nav Overlay -->
    <div id="side-nav-overlay" class="side-nav-overlay"></div>

    <!-- Theme Modal -->
    <div id="theme-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Theme</h2>
                <button class="close-button" aria-label="Close theme settings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-section">
                    <div class="theme-options">
                        <label class="theme-option">
                            <input type="radio" name="theme" value="default" checked>
                            <span class="theme-label">Default</span>
                        </label>
                        <label class="theme-option">
                            <input type="radio" name="theme" value="light">
                            <span class="theme-label">Light</span>
                        </label>
                        <label class="theme-option">
                            <input type="radio" name="theme" value="dark">
                            <span class="theme-label">Dark</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Workflow Modal -->
    <div id="add-workflow-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Workflow</h2>
                <button class="close-button" aria-label="Close add workflow dialog">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-section">
                    <p class="modal-description">Enter the workflow details in the format: <code>owner/repo/workflow-file.yml</code></p>
                    <p class="modal-description">Example: <code>microsoft/vscode/ci.yml</code></p>
                    <div class="form-group">
                        <label for="workflow-input">Workflow Path</label>
                        <input 
                            type="text" 
                            id="workflow-input" 
                            placeholder="owner/repo/workflow.yml"
                            aria-describedby="workflow-input-help"
                        >
                        <small id="workflow-input-help" class="form-help">Format: owner/repo/workflow-file.yml</small>
                    </div>
                    <div class="form-group">
                        <label for="workflow-label-input">Display Label</label>
                        <input 
                            type="text" 
                            id="workflow-label-input" 
                            placeholder="My Workflow"
                            aria-describedby="workflow-label-help"
                        >
                        <small id="workflow-label-help" class="form-help">Friendly name to display on the dashboard</small>
                    </div>
                    <div id="add-workflow-error" class="form-error" style="display: none;"></div>
                    <div class="modal-actions">
                        <button id="add-workflow-cancel" class="modal-button modal-button-secondary">Cancel</button>
                        <button id="add-workflow-apply" class="modal-button modal-button-primary">Add Workflow</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Change Dashboard Modal -->
    <div id="change-dashboard-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Change Dashboard</h2>
                <button class="close-button" aria-label="Close change dashboard dialog">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-section">
                    <div class="form-group">
                        <label for="dashboard-select-modal">Select Dashboard</label>
                        <select id="dashboard-select-modal" aria-label="Select dashboard">
                            <!-- Options populated dynamically -->
                        </select>
                    </div>
                    <div id="change-dashboard-error" class="form-error" style="display: none;"></div>
                    <div class="modal-actions">
                        <button id="change-dashboard-cancel" class="modal-button modal-button-secondary">Cancel</button>
                        <button id="change-dashboard-apply" class="modal-button modal-button-primary">Switch</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Manage Dashboards Modal -->
    <div id="manage-dashboards-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Manage Dashboards</h2>
                <button class="close-button" aria-label="Close manage dashboards dialog">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-section">
                    <div class="form-group">
                        <label for="new-dashboard-input">Create New Dashboard</label>
                        <div style="display: flex; gap: 8px;">
                            <input 
                                type="text" 
                                id="new-dashboard-input" 
                                placeholder="Dashboard Name"
                                style="flex: 1;"
                            >
                            <button id="create-dashboard-button" class="modal-button modal-button-primary">Create</button>
                        </div>
                    </div>
                    <div id="manage-dashboards-list" class="dashboards-list">
                        <!-- Populated dynamically -->
                    </div>
                    <div id="manage-dashboards-error" class="form-error" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div id="refresh-status" class="refresh-status" style="display: none;">
            <button id="refresh-button" class="refresh-button" aria-label="Refresh workflow statuses">
                <span>Refresh</span>
            </button>
            <span class="refresh-status-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 10C21 10 18.995 7.26822 17.3662 5.63824C15.7373 4.00827 13.4864 3 11 3C6.02944 3 2 7.02944 2 12C2 16.9706 6.02944 21 11 21C15.1031 21 18.5649 18.2543 19.6482 14.5M21 10V4M21 10H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </span>
            <span class="refresh-status-text"></span>
        </div>

        <div class="workflow-controls">
            <button id="add-workflow-button" class="add-workflow-button" aria-label="Add new workflow">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Add Workflow</span>
            </button>
        </div>

        <div class="workflow-grids-container">
            <!-- Repository-organized workflow grids will be dynamically loaded by JavaScript -->
            <!-- See config.js to configure your workflows -->
        </div>

        <div class="footer">
            <p>GitHub Actions Dashboard | Powered by GitHub Pages</p>
            <p>Last updated: <span id="last-updated"></span></p>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="api.js"></script>
    <script src="workflow-manager.js"></script>
    <script src="theme-switcher.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
